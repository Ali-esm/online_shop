{% load i18n %}

<div class="container-fluid p-0 m-0">
    <div class="row p-0 ">
        <div class="col-12 col-lg-12 p-0 m-0">
            <nav class="navbar navbar-expand navbar-light bg-light bg-white sticky-top p-0">
          <div class="container-fluid justify-content-between">
              <a class="navbar-brand" style="font-weight: bold; font-size: 25px" href="#">
                  {% trans "Rayka" %}
              </a>

              <ul class="navbar-nav">
                  <li class="nav-item p-2">
                      <a class="nav-link my-nav" aria-current="page" href="{% url 'home_view' %}">
                          {% trans "Home" %}
                      </a>
                  </li>
                  <li class="nav-item p-2">
                      <a class="nav-link my-nav" aria-current="page" href="{% url 'product:product_list' %}">
                          {% trans "Shop" %}
                      </a>
                  </li>

                  <!-- DropDown Category Menu -->
                    <li class="nav-item dropdown p-2">
                        <a class="nav-link dropdown-toggle my-nav" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            {% trans "Category" %}
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            {% for root in root_categories %}
                            <li>
                                <a class="dropdown-item" href="#">{{ root.name }}</a>

                                {% if root.category_set.all %}
                                <ul class="dropdown-menu dropdown-submenu">
                                    {% for sub in root.category_set.all %}
                                    <li>
                                        <a href="" class="dropdown-item">{{ sub.name }}</a>
                                    </li>
                                    {% endfor %}
                                </ul>
                                {% endif %}

                            </li>
                            {% endfor %}
                        </ul>
                    </li>

                  <li class="nav-item p-2">
                      <a class="nav-link my-nav" aria-current="page" href="#">
                          {% trans "Contact" %}
                      </a>
                  </li>
              </ul>

              <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class='nav-link' href="#">
                            <i class="fa fa-shopping-cart fa-lg position-relative" style="font-size: xx-large" aria-hidden="true">
                                  <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="font-size: x-small">
                                    1
                                  </span>
                            </i>
                        </a>
                    </li>
                    <li>
                        <a class="nav-link" href="">{% if CUREENT_LANG == 'en' %}ูุง{% else %}En{% endif %}</a>
                    </li>
                        {% if  request.user.is_authenticated%}
                            <li class="nav-item dropdown">
                              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                  {{ user.phone_number }}
                              </a>
                              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <li><a class="dropdown-item" href="#profile">{% trans "profile" %}</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="{% url "customer:logout_view" %}">{% trans "logout" %}</a></li>
                              </ul>
                            </li>
                        {% else %}
                            <li>
                                <a class="nav-link" href="{% url 'customer:login_view' %}">{% trans "Login" %}</a>
                            </li>
                        {% endif %}
              </ul>
          </div>
    </nav>
        </div>
    </div>
</div>
